{"function":{"method":"patch","path":"/shoppings/customers/carts/commodities/discountable","name":"shoppings_customers_carts_commodities_discountable","parameters":{"type":"object","properties":{"body":{"type":"object","properties":{"commodity_ids":{"anyOf":[{"type":"null"},{"type":"array","items":{"description":"@format uuid","type":"string"}}]},"pseudos":{"type":"array","items":{"description":"Creation information of a shopping cart commodity.\n\n------------------------------\n\nDescription of the current {@link IShoppingCartCommodity.ICreate} type:\n\n> Creation information of a shopping cart commodity.\n\n------------------------------\n\nDescription of the parent {@link IShoppingCartCommodity} type:\n\n> Item in a shopping cart.\n> \n> `IShoppingCartCommodity` is an entity that represents a\n> {@link IShoppingSaleSnapshot snapshot} of the items that\n> {@link IShoppingCustomer customer} has placed into his shopping cart with a\n> {@link IShoppingOrder purchase} in mind. And if the customer continues this\n> into an actual order in the future, `IShoppingCartCommodity` be changed to\n> {@link IShoppingOrderGood}.\n> \n> And while adding a sale snapshot to the shopping cart, the customer inevitably\n> selects specific {@link IShoppingSaleUnit units} and\n> {@link IShoppingSaleUnitStock final stocks} within the listing snapshot.\n> Information about these units and stocks is recorded in the subsidiary entity\n> {@link IShoppingCartCommodityStock}. Also, there is an attribute {@link volume}\n> that indicates how many sets of snapshots of the target commodity will be\n> purchased. This \"volume\" is a value that will be multiplied by\n> {@link IShoppingSaleUnitStock.IInvert.quantity}, the quantity for each\n> component.","type":"object","properties":{"sale_id":{"title":"Target sale's {@link IShoppingSale.id}","description":"Target sale's {@link IShoppingSale.id}.\n\n\n@format uuid","type":"string"},"stocks":{"title":"List of the stocks to be purchased","description":"List of the stocks to be purchased.\n\n\n@minItems 1","type":"array","items":{"description":"Creation information of the commodity stock of shopping cart.\n\nWhen record being created, its corresponding structure would be\n{@link IShoppingSaleSnapshotUnit.IInvert} and\n{@link IShoppingSaleSnapshotUnitStock.IInvert}.\n\n------------------------------\n\nDescription of the current {@link IShoppingCartCommodityStock.ICreate} type:\n\n> Creation information of the commodity stock of shopping cart.\n> \n> When record being created, its corresponding structure would be\n> {@link IShoppingSaleSnapshotUnit.IInvert} and\n> {@link IShoppingSaleSnapshotUnitStock.IInvert}.","type":"object","properties":{"unit_id":{"title":"Target unit's {@link IShoppingSaleUnit.id}","description":"Target unit's {@link IShoppingSaleUnit.id}.\n\n\n@format uuid","type":"string"},"stock_id":{"title":"Target stock's {@link IShoppingSaleUnitStock.id}","description":"Target stock's {@link IShoppingSaleUnitStock.id}.\n\nIt must be matched with the {@link choices} property.\n\n\n@format uuid","type":"string"},"choices":{"title":"Creation information of the choices for each descriptive option","description":"Creation information of the choices for each descriptive option.\n\nIf target option is not of descriptive but of selective, then\nthis property must be an empty array.","type":"array","items":{"description":"Creation information of the choice for each option (of descriptive).\n\nWhen target option is {@link IShoppingSaleUnitDescriptiveOption}\ntype, then you have to compose this choice structure with\n{@link value} specification.\n\nOtherwise when target option is {@link IShoppingSaleUnitSelectableOption}\ntype, you don't need to compose this choice structure. Just fill only\nthe {@link IShoppingCartCommodityStock.ICreate.stock_id} property.\n\n------------------------------\n\nDescription of the current {@link IShoppingCartCommodityStockChoice.ICreate} type:\n\n> Creation information of the choice for each option (of descriptive).\n> \n> When target option is {@link IShoppingSaleUnitDescriptiveOption}\n> type, then you have to compose this choice structure with\n> {@link value} specification.\n> \n> Otherwise when target option is {@link IShoppingSaleUnitSelectableOption}\n> type, you don't need to compose this choice structure. Just fill only\n> the {@link IShoppingCartCommodityStock.ICreate.stock_id} property.","type":"object","properties":{"option_id":{"title":"Target option's {@link IShoppingSaleUnitOption.id}","description":"Target option's {@link IShoppingSaleUnitOption.id}.\n\n\n@format uuid","type":"string"},"value":{"title":"Written value about the option","description":"Written value about the option.\n\nWhen target option's type is 'descriptive', then you have to\nfill this property with the written value by the customer.","anyOf":[{"type":"null"},{"type":"string"},{"type":"number"},{"type":"boolean"}]}},"required":["option_id","value"]}},"quantity":{"title":"Quantity of the stock to purchase","description":"Quantity of the stock to purchase.\n\nThis value is multiplied by the {@link IShoppingCartCommodity.volume}.\n\n\n@minimum 1","type":"integer"}},"required":["unit_id","stock_id","choices","quantity"]}},"volume":{"title":"Volume of the commodity to purchase","description":"Volume of the commodity to purchase.\n\nA value indicating how many sets would be multiplied to the children\n{@link IShoppingSaleUnitStock.IInvert.quantity} values.\n\n\n@minimum 1","type":"integer"},"accumulate":{"title":"Whether to accumulate the volume or not","description":"Whether to accumulate the volume or not.\n\nIf this attribute is not `false` and there's same commodity that\ncomposed with same stocks and options, then the volume will be\naccumulated to the existed one.\n\nOtherwise, duplicated commodity would be newly created.","anyOf":[{"type":"null"},{"type":"boolean"}]}},"required":["sale_id","stocks","volume"]}}},"required":["commodity_ids","pseudos"]}},"additionalProperties":false,"required":["body"],"$defs":{"IShoppingChannelCategory.IInvert":{"description":"Invert category information with parent category.","type":"object","properties":{"parent":{"title":"Parent category info with recursive structure","description":"Parent category info with recursive structure.\n\nIf no parent exists, then be `null`.","anyOf":[{"type":"null"},{"$ref":"#/$defs/IShoppingChannelCategory.IInvert"}]},"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"code":{"title":"Identifier code of the category","description":"Identifier code of the category.\n\nThe code must be unique in the channel.","type":"string"},"parent_id":{"title":"Parent category's ID","description":"Parent category's ID.","anyOf":[{"type":"null"},{"type":"string","description":"@format uuid"}]},"name":{"title":"Representative name of the category","description":"Representative name of the category.\n\nThe name must be unique within the parent category. If no parent exists,\nthen the name must be unique within the channel between no parent\ncategories.","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"}},"required":["parent","id","code","parent_id","name","created_at"]}}},"output":{"type":"object","properties":{"deposit":{"type":"number"},"mileage":{"type":"number"},"combinations":{"type":"array","items":{"type":"object","properties":{"coupons":{"type":"array","items":{"description":"Discount coupon.\n\n`IShoppingCoupon` is an entity that symbolizes discount coupons at\na shopping mall.\n\nNote that, `IShoppingCoupon` only contains specification information\nabout discount coupons. Please keep in mind that this is a different\nconcept from {@link IShoppingCouponTicket}, which refers to the issuance\nof a discount coupon, or {@link IShoppingCouponTicketPayment}, which\nrefers to its payment.\n\nAdditionally, discount coupons are applied on an order-by-order basis,\nbut each has its own unique restrictions. For example, a coupon with\n{@link IShoppingCouponSellerCriteria} may or may not be used only for\n{@link IShoppingSale} of listings registered by the {@link IShoppingSeller}.\nAlso, there are restrictions such as\n{@link IShoppingCouponDiscount.threshold minimum amount restrictions} for\nusing discount coupons and\n{@link IShoppingCouponDiscount.limit maximum discount amount limits}.\n\nIn addition, you can set whether to issue discount coupons publicly or\ngive them only to people who know the specific issuing code. In addition,\nthere are restrictions such as issued discount coupons having an\n{@link IShoppingCouponRestriction.expired_at expiration date} or being\nissued only to customers who came in through a\n{@link IShoppingCouponFunnelCriteria specific funnel}.\n\nFor more information, please refer to the properties below and the\nsubsidiary entities described later.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"designer":{"title":"Designer who've made the coupon","description":"Designer who've made the coupon.","anyOf":[{"type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\nAnother words, the time when the administrator has signed up.\n\n\n@format date-time","type":"string"}},"required":["id","created_at"],"description":"Administrator account.\n\n`IShoppingAdministrator` is an entity that embodies a person who manages\nthe shopping mall system, with {@link IShoppingMember membership} joining.\n\nFor reference, unlike {@link IShoppingCustomer customers} which can participate\neven without membership joining, administrator must join membership to operate\nmanagements. Also, administrator must perform the\n{@link IShoppingCitizen real-name and mobile authentication}, too."},{"type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation tmie of record","description":"Creation tmie of record.\n\nAnother words, the time when the seller has signed up.\n\n\n@format date-time","type":"string"}},"required":["id","created_at"],"description":"Seller information.\n\n`IShoppingSeller` is an entity that embodies a person who registers\n{@link IShoppingSale sales} to operate selling activities, with\n{@link IShoppingMember membership} joining.\n\nFor reference, unlike {@link IShoppingCustomer customers} which can\nparticipate even without membership joining, seller must join membership\nto operate sales. Also, seller must do the\n{@link IShoppingCitizen real-name and mobile authentication}, too."}]},"inventory":{"title":"Inventory information","description":"Inventory information of the coupon.\n\nIf a {@link IShoppingCoupon coupon} has been designed with limited\ninventory, this `IShoppingCouponInventory` structure represents the\nremaining inventory information.","type":"object","properties":{"volume":{"title":"Remaining volume for everyone","description":"Remaining volume for everyone.\n\nIf there is a limit to the quantity issued, it becomes impossible to\nissue tickets exceeding this value.\n\nIn other words, the concept of N coupons being issued on a first-come,\nfirst-served basis is created.","anyOf":[{"type":"null"},{"type":"integer"}]},"volume_per_citizen":{"title":"Remaining volume per citizen","description":"Remaining volume per citizen.\n\nAs a limit to the total amount of issuance per person, it is common to\nassign 1 to limit duplicate issuance to the same citizen, or to use the\n`nul`` value to set no limit.\n\nOf course, by assigning a value of N, the total amount issued to the\nsame citizen can be limited.","anyOf":[{"type":"null"},{"type":"integer"}]}},"required":["volume","volume_per_citizen"]},"criterias":{"title":"List of criteria information","description":"List of criteria information.","type":"array","items":{"anyOf":[{"type":"object","properties":{"sections":{"title":"Target sections to include or exclude","description":"Target sections to include or exclude.\n\n\n@minItems 1","type":"array","items":{"description":"Section information.\n\n`IShoppingSection` is a concept that refers to the spatial information of\nthe market.\n\nIf we compare the section mentioned here to the offline market, it means a\nspatially separated area within the store, such as the \"fruit corner\" or\n\"butcher corner\". Therefore, in the {@link IShoppingSale sale} entity, it is\nnot possible to classify multiple sections simultaneously, but only one section\ncan be classified.\n\nBy the way, if your shopping mall system requires only one section, then just\nuse only one. This concept is designed to be expandable in the future.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"code":{"title":"Identifier code","description":"Identifier code.","type":"string"},"name":{"title":"Representative name of the section","description":"Representative name of the section.","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"}},"required":["id","code","name","created_at"]}},"type":{"title":"Descrimanator type","description":"Descrimanator type.","type":"string","enum":["section"]},"direction":{"title":"Direction of the criteria","description":"Direction of the criteria.","type":"string","enum":["include","exclude"]}},"required":["sections","type","direction"],"description":"Conditions for sections of discount coupons.\n\n`IShoppingCouponSectionCriteria` is a subtype entity of\n{@link IShoppingCouponCriteriaBase} and is used when setting conditions\nfor a specific {@link IShoppingSection section}.\n\nIf the {@link direction} value is \"include\", the coupon can only be used\nfor the target {@link sections}. Conversely, if it is \"exclude\", the\ncoupon cannot be used."},{"type":"object","properties":{"sellers":{"title":"Target sellers to include or exclude","description":"Target sellers to include or exclude.\n\n\n@minItems 1","type":"array","items":{"description":"Seller information.\n\n`IShoppingSeller` is an entity that embodies a person who registers\n{@link IShoppingSale sales} to operate selling activities, with\n{@link IShoppingMember membership} joining.\n\nFor reference, unlike {@link IShoppingCustomer customers} which can\nparticipate even without membership joining, seller must join membership\nto operate sales. Also, seller must do the\n{@link IShoppingCitizen real-name and mobile authentication}, too.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation tmie of record","description":"Creation tmie of record.\n\nAnother words, the time when the seller has signed up.\n\n\n@format date-time","type":"string"}},"required":["id","created_at"]}},"type":{"title":"Descrimanator type","description":"Descrimanator type.","type":"string","enum":["seller"]},"direction":{"title":"Direction of the criteria","description":"Direction of the criteria.","type":"string","enum":["include","exclude"]}},"required":["sellers","type","direction"],"description":"Conditions for sellers of discount coupons.\n\n`IShoppingCouponSellerCriteria` is a subtype entity of\n{@link IShoppingCouponCriteriaBase} and is used when setting conditions\nfor a specific {@link IShoppingSeller seller}.\n\nIf the {@link direction} value is \"include\", the coupon can only be used\nfor the target {@link sellers}. Conversely, if it is \"exclude\", the\ncoupon cannot be used."},{"type":"object","properties":{"sales":{"title":"Target sales to include or exclude","description":"Target sales to include or exclude.\n\n\n@minItems 1","type":"array","items":{"description":"Summarized information of sale.\n\nThis summarized information being used for pagination.\n\n------------------------------\n\nDescription of the current {@link IShoppingSale.ISummary} type:\n\n> Summarized information of sale.\n> \n> This summarized information being used for pagination.\n\n------------------------------\n\nDescription of the parent {@link IShoppingSale} type:\n\n> Seller sales products.\n> \n> `IShoppingSale` is an entity that embodies \"product sales\" (sales)\n> information registered by the {@link ISoppingSeller seller}. And the main\n> information of the sale is recorded in the sub {@link IShoppingSaleSnapshot},\n> not in the main `IShoppingSale`. When a seller changes a previously registered\n> item, the existing `IShoppingSale` record is not changed, but a new\n> {@link IShoppingSaleSnapshot snapshot} record be created.\n> \n> This is to preserve the {@link IShoppingCustomer customer}'s\n> {@link IShoppingOrder purchase history} flawlessly after the customer\n> purchases a specific item, even if the seller changes the components or\n> price of the item. It is also intended to support sellers in so-called A/B\n> testing, which involves changing components or prices and measuring the\n> performance in each case.","type":"object","properties":{"section":{"title":"Belonged section","description":"Section information.\n\n`IShoppingSection` is a concept that refers to the spatial information of\nthe market.\n\nIf we compare the section mentioned here to the offline market, it means a\nspatially separated area within the store, such as the \"fruit corner\" or\n\"butcher corner\". Therefore, in the {@link IShoppingSale sale} entity, it is\nnot possible to classify multiple sections simultaneously, but only one section\ncan be classified.\n\nBy the way, if your shopping mall system requires only one section, then just\nuse only one. This concept is designed to be expandable in the future.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"code":{"title":"Identifier code","description":"Identifier code.","type":"string"},"name":{"title":"Representative name of the section","description":"Representative name of the section.","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"}},"required":["id","code","name","created_at"]},"seller":{"title":"Seller who has registered the sale","description":"Summary of seller information.\n\n------------------------------\n\nDescription of the current {@link IShoppingSeller.ISummary} type:\n\n> Summary of seller information.\n\n------------------------------\n\nDescription of the parent {@link IShoppingSeller} type:\n\n> Seller information.\n> \n> `IShoppingSeller` is an entity that embodies a person who registers\n> {@link IShoppingSale sales} to operate selling activities, with\n> {@link IShoppingMember membership} joining.\n> \n> For reference, unlike {@link IShoppingCustomer customers} which can\n> participate even without membership joining, seller must join membership\n> to operate sales. Also, seller must do the\n> {@link IShoppingCitizen real-name and mobile authentication}, too.","type":"object","properties":{"type":{"title":"Discriminant for the type of seller","description":"Discriminant for the type of seller.","type":"string","enum":["seller"]},"member":{"title":"Membership joining information","description":"Invert information of member.\n\nThis invert member information has been designed to be used for another\ninvert information of sellers and administrators like below.\n\n- {@link IShoppingSeller.IInvert}\n- {@link IShoppingAdministrator.IInvert}\n\n------------------------------\n\nDescription of the current {@link IShoppingMember.IInvert} type:\n\n> Invert information of member.\n> \n> This invert member information has been designed to be used for another\n> invert information of sellers and administrators like below.\n> \n> - {@link IShoppingSeller.IInvert}\n> - {@link IShoppingAdministrator.IInvert}\n\n------------------------------\n\nDescription of the parent {@link IShoppingMember} type:\n\n> Member Account.\n> \n> `IShoppingMember` is an entity that symbolizes the case when a\n> {@link IShoppingCustomer} signs up as a member of this shopping mall\n> system.\n> \n> If a `IShoppingMember` has seller or administrator property. it means that\n> the {@link IShoppingCustomer} has acting as a {@link IShoppingSeller seller}\n> or {@link IShoppingAdministrator administrator} at the same time.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"nickname":{"title":"Nickname that uniquely identifies the member","description":"Nickname that uniquely identifies the member.","type":"string"},"emails":{"title":"List of emails","description":"List of emails.","type":"array","items":{"description":"Email address of member.\n\nThis shopping mall system allows multiple email addresses to be\nregistered for one {@link IShoppingMember member}. If you don't have to\nplan such multiple email addresses, just use only one.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"value":{"title":"Email address value","description":"Email address value.\n\n\n@format email","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"}},"required":["id","value","created_at"]}},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\nAnother words, the time when the member has signed up.\n\n\n@format date-time","type":"string"}},"required":["id","nickname","emails","created_at"]},"citizen":{"title":"Real-name and mobile number authentication information","description":"Citizen verification information.\n\n`IShoppingCitizen` is an entity that records the user's\n{@link name real name} and {@link mobile} input information.\n\nFor reference, in South Korea, real name authentication is required for\ne-commerce participants, so the name attribute is important. However, the\nsituation is different overseas, so in reality, mobile attributes are the\nmost important, and identification of individual person is also done based\non this mobile.\n\nOf course, real name and mobile phone authentication information are\nencrypted and stored.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"},"mobile":{"title":"Mobile number","description":"Mobile number.\n\n\n@pattern ^[0-9]*$","x-wrtn-payment-order-mobile":true,"type":"string"},"name":{"title":"Real name, or equivalent nickname","description":"Real name, or equivalent nickname.","x-wrtn-payment-order-citizen":true,"type":"string"}},"required":["id","created_at","mobile","name"]},"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation tmie of record","description":"Creation tmie of record.\n\nAnother words, the time when the seller has signed up.\n\n\n@format date-time","type":"string"}},"required":["type","member","citizen","id","created_at"]},"price_range":{"title":"Price range of the unit","type":"object","properties":{"lowest":{"description":"Shopping price interface.","type":"object","properties":{"nominal":{"title":"Nominal price","description":"Nominal price.\n\nThis is not {@link real real price} to pay, but just a nominal price to show.\nIf this value is greater than the {@link real real price}, it would be shown\nlike {@link IShoppingSeller seller} is giving a discount.\n\n\n@minimum 0","type":"number"},"real":{"title":"Real price to pay","description":"Real price to pay.\n\n\n@minimum 0","type":"number"}},"required":["nominal","real"]},"highest":{"description":"Shopping price interface.","type":"object","properties":{"nominal":{"title":"Nominal price","description":"Nominal price.\n\nThis is not {@link real real price} to pay, but just a nominal price to show.\nIf this value is greater than the {@link real real price}, it would be shown\nlike {@link IShoppingSeller seller} is giving a discount.\n\n\n@minimum 0","type":"number"},"real":{"title":"Real price to pay","description":"Real price to pay.\n\n\n@minimum 0","type":"number"}},"required":["nominal","real"]}},"required":["lowest","highest"]},"id":{"title":"Primary Key of Sale","description":"Primary Key of Sale.\n\n\n@format uuid","type":"string"},"snapshot_id":{"title":"Primary Key of Snapshot","description":"Primary Key of Snapshot.\n\n\n@format uuid","type":"string"},"latest":{"title":"Whether the snapshot is the latest one or not","description":"Whether the snapshot is the latest one or not.","type":"boolean"},"content":{"title":"Description and image content describing the sale","description":"Description of the current {@link IShoppingSaleContent} type:\n\n> Content information of sale snapshot.\n> \n> `IShoppingSaleContent` is an entity embodies the description contents\n> of {@link IShoppingSale}.","type":"object","properties":{"id":{"description":"@format uuid","type":"string"},"title":{"type":"string"},"thumbnails":{"type":"array","items":{"description":"Attachment File.\n\nEvery attachment files that are managed in current system.\n\nFor reference, it is possible to omit one of file {@link name}\nor {@link extension} like `.gitignore` or `README` case, but not\npossible to omit both of them.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation time of attachment file","description":"Creation time of attachment file.\n\n\n@format date-time","type":"string"},"name":{"title":"File name, except extension","description":"File name, except extension.\n\nIf there's file `.gitignore`, then its name is an empty string.\n\n\n@maxLength 255","type":"string"},"extension":{"title":"Extension","description":"Extension.\n\nPossible to omit like `README` case.","anyOf":[{"type":"null"},{"type":"string","description":"@minLength 1\n@maxLength 8"}]},"url":{"title":"URL path of the real file","description":"URL path of the real file.\n\n\n@format uri\n@contentMediaType image/*","type":"string"}},"required":["id","created_at","name","extension","url"]}}},"required":["id","title","thumbnails"]},"categories":{"title":"List of categories","description":"List of categories.\n\nWhich categories the sale is registered to.","type":"array","items":{"$ref":"#/$defs/IShoppingChannelCategory.IInvert"}},"tags":{"title":"List of search tags","description":"List of search tags.","type":"array","items":{"type":"string"}},"units":{"title":"List of units","description":"List of units.\n\nRecords about individual product composition information that are sold\nin the sale. Each {@link IShoppingSaleUnit unit} record has configurable\n{@link IShoppingSaleUnitOption options},\n{@link IShoppingSaleUnitOptionCandidate candidate} values for each\noption, and {@link IShoppingSaleUnitStock final stocks} determined by\nselecting every candidate values of each option.\n\n\n@minItems 1","type":"array","items":{"description":"Description of the current {@link IShoppingSaleUnit} type:\n\n> Product composition information handled in the sale.\n> \n> `IShoppingSaleUnit` is an entity that embodies the \"individual product\"\n> information handled in the {@link IShoppingSale sale}.\n> \n> For reference, the reason why `IShoppingSaleUnit` is separated from\n> {@link IShoppingSaleSnapshot} by an algebraic relationship of 1: N is because\n> there are some cases where multiple products are sold in one listing. This is\n> the case with so-called \"bundled products\".\n> \n> - Bundle from regular product (Mackbook Set)\n>   - Main Body\n>   - Keyboard\n>   - Mouse\n>   - Apple Care (Free A/S Voucher)\n> \n> And again, `IShoppingSaleUnit` does not in itself refer to the\n> {@link IShoppingSaleUnitStock final stock} that the\n> {@link IShoppingCustomer customer} will {@link IShoppingOrder purchase}.\n> The final stock can be found only after selecting all given\n> {@link IShoppingSaleUnitOption options} and their\n> {@link IShoppingSaleUnitOptionCandidate candidate values}.\n> \n> For example, even if you buy a Macbook, the final stocks are determined only\n> after selecting all the options (CPU / RAM / SSD), etc.","type":"object","properties":{"price_range":{"type":"object","properties":{"lowest":{"description":"Shopping price interface.","type":"object","properties":{"nominal":{"title":"Nominal price","description":"Nominal price.\n\nThis is not {@link real real price} to pay, but just a nominal price to show.\nIf this value is greater than the {@link real real price}, it would be shown\nlike {@link IShoppingSeller seller} is giving a discount.\n\n\n@minimum 0","type":"number"},"real":{"title":"Real price to pay","description":"Real price to pay.\n\n\n@minimum 0","type":"number"}},"required":["nominal","real"]},"highest":{"description":"Shopping price interface.","type":"object","properties":{"nominal":{"title":"Nominal price","description":"Nominal price.\n\nThis is not {@link real real price} to pay, but just a nominal price to show.\nIf this value is greater than the {@link real real price}, it would be shown\nlike {@link IShoppingSeller seller} is giving a discount.\n\n\n@minimum 0","type":"number"},"real":{"title":"Real price to pay","description":"Real price to pay.\n\n\n@minimum 0","type":"number"}},"required":["nominal","real"]}},"required":["lowest","highest"]},"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"name":{"title":"Representative name of the unit","description":"Representative name of the unit.","type":"string"},"primary":{"title":"Whether the unit is primary or not","description":"Whether the unit is primary or not.\n\nJust a labeling value.","type":"boolean"},"required":{"title":"Whether the unit is required or not","description":"Whether the unit is required or not.\n\nWhen the unit is required, the customer must select the unit. If do not\nselect, customer can't buy it.\n\nFor example, if there's a sale \"Macbook Set\" and one of the unit is the\n\"Main Body\", is it possible to buy the \"Macbook Set\" without the\n\"Main Body\" unit? This property is for that case.","type":"boolean"}},"required":["price_range","id","name","primary","required"]}},"created_at":{"title":"Creation time of the record","description":"Creation time of the record.\n\nNote that, this property is different with {@link opened_at},\nwhich means the timepoint of the sale is opened.\n\n\n@format date-time","type":"string"},"updated_at":{"title":"Last updated time of the record","description":"Last updated time of the record.\n\nIn another words, creation time of the last snapshot.\n\n\n@format date-time","type":"string"},"paused_at":{"title":"Paused time of the sale","description":"Paused time of the sale.\n\nThe sale is paused by the seller, for some reason.\n\n{@link IShoppingCustomer Customers} can still see the sale on the\nboth list and detail pages, but the sale has a warning label\n\"The sale is paused by the seller\".","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]},"suspended_at":{"title":"Suspended time of the sale","description":"Suspended time of the sale.\n\nThe sale is suspended by the seller, for some reason.\n\n{@link IShoppingCustomer Customers} cannot see the sale on the\nboth list and detail pages. It is almost same with soft delettion,\nbut there's a little bit difference that the owner\n{@link IShoppingSeller seller} can still see the sale and resume it.\n\nOf course, the {@link IShoppingCustomer customers} who have\nalready purchased the sale can still see the sale on the\n{@link IShoppingOrder order} page.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]},"opened_at":{"title":"Opening time of the sale","description":"Opening time of the sale.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]},"closed_at":{"title":"Closing time of the sale","description":"Closing time of the sale.\n\nIf this value is `null`, the sale be continued forever.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]}},"required":["section","seller","price_range","id","snapshot_id","latest","content","categories","tags","units","created_at","updated_at","paused_at","suspended_at","opened_at","closed_at"]}},"type":{"title":"Descrimanator type","description":"Descrimanator type.","type":"string","enum":["sale"]},"direction":{"title":"Direction of the criteria","description":"Direction of the criteria.","type":"string","enum":["include","exclude"]}},"required":["sales","type","direction"],"description":"Conditions for sales of discount coupons.\n\n`IShoppingCouponSaleCriteria` is a subtype entity of\n{@link IShoppingCouponCriteriaBase} and is used when setting conditions\nfor a specific {@link IShoppingSale sale}.\n\nIf the {@link direction} value is \"include\", the coupon can only be used\nfor the target {@link sales}. Conversely, if it is \"exclude\", the\ncoupon cannot be used."},{"type":"object","properties":{"funnels":{"title":"List of target funnels","description":"List of target funnels.\n\n\n@minItems 1","type":"array","items":{"anyOf":[{"type":"object","properties":{"kind":{"title":"Kind of funnel restriction","description":"Kind of funnel restriction.","type":"string","enum":["url","referrer"]},"value":{"title":"Target value","description":"Target value.","type":"string"}},"required":["kind","value"],"description":"Kind of funnel restriction by a value.\n\n------------------------------\n\nDescription of the current {@link IShoppingCouponFunnelCriteria.IValueFunnel} type:\n\n> Kind of funnel restriction by a value.\n\n------------------------------\n\nDescription of the parent {@link IShoppingCouponFunnelCriteria} type:\n\n> Limit the funnel of discount coupons.\n> \n> `ishoppingcouponfunnelcriteria` is a subtype entity of\n> {@link IShoppingCouponCriteria}, and is used when you want to issue or\n> exclude discount coupons only to {@link IShoppingCustomer customers} who\n> came from a specific path.\n> \n> And funnel restrictions are possible in 3 ways: The first is\n> {@link IShoppingCustomer.referrer}, and by parsing\n> {@link IShoppingCustomer.href}, which records the customer's access\n> address, restrictions can be made in units of specific URLs or variables."},{"type":"object","properties":{"kind":{"title":"Kind of funnel restriction","description":"Kind of funnel restriction.","type":"string","enum":["variable"]},"key":{"title":"Target variable's key","description":"Target variable's key.","type":"string"},"value":{"title":"Target variable's value","description":"Target variable's value.","type":"string"}},"required":["kind","key","value"],"description":"Kind of funnel restriction by a variable.\n\n------------------------------\n\nDescription of the current {@link IShoppingCouponFunnelCriteria.IVariableFunnel} type:\n\n> Kind of funnel restriction by a variable.\n\n------------------------------\n\nDescription of the parent {@link IShoppingCouponFunnelCriteria} type:\n\n> Limit the funnel of discount coupons.\n> \n> `ishoppingcouponfunnelcriteria` is a subtype entity of\n> {@link IShoppingCouponCriteria}, and is used when you want to issue or\n> exclude discount coupons only to {@link IShoppingCustomer customers} who\n> came from a specific path.\n> \n> And funnel restrictions are possible in 3 ways: The first is\n> {@link IShoppingCustomer.referrer}, and by parsing\n> {@link IShoppingCustomer.href}, which records the customer's access\n> address, restrictions can be made in units of specific URLs or variables."}]}},"type":{"title":"Descrimanator type","description":"Descrimanator type.","type":"string","enum":["funnel"]},"direction":{"title":"Direction of the criteria","description":"Direction of the criteria.","type":"string","enum":["include","exclude"]}},"required":["funnels","type","direction"],"description":"Limit the funnel of discount coupons.\n\n`ishoppingcouponfunnelcriteria` is a subtype entity of\n{@link IShoppingCouponCriteria}, and is used when you want to issue or\nexclude discount coupons only to {@link IShoppingCustomer customers} who\ncame from a specific path.\n\nAnd funnel restrictions are possible in 3 ways: The first is\n{@link IShoppingCustomer.referrer}, and by parsing\n{@link IShoppingCustomer.href}, which records the customer's access\naddress, restrictions can be made in units of specific URLs or variables."}]}},"discount":{"title":"Discount information","description":"Discount information.","anyOf":[{"type":"object","properties":{"unit":{"title":"Discount unit as amount","description":"Discount unit as amount.\n\nIt means the order price would be discounted by the amount value.","type":"string","enum":["amount"]},"value":{"title":"Discount value as amount","description":"Discount value as amount.","type":"number"},"threshold":{"title":"Minimum purchase amount for discount","description":"Minimum purchase amount for discount.\n\nWhen setting this value, discount coupons cannot be applied to\norder totals that are less than this value.","anyOf":[{"type":"null"},{"type":"number","description":"@minimum 0"}]},"limit":{"title":"Maximum amount available for discount","description":"Maximum amount available for discount.\n\nWhen this value is set, no further discount will be given no\nmatter how much you order. This property would be meaningful\nonly when the {@link multiplicative} is `true`.","anyOf":[{"type":"null"},{"type":"number","description":"@minimum 0\n@exclusiveMinimum true"}]},"multiplicative":{"title":"Multiplicative or not","description":"Multiplicative or not.\n\nIf this property is `true`, the discount value would be multiplied\nto the {@link IShoppingCartCommodity.volume} or\n{@link IShoppingOrderGood.volume} value. Also, in that case,\nthe {@link limit} property would be meaningful.","type":"boolean"}},"required":["unit","value","threshold","limit","multiplicative"],"description":"Discount information with amount unit.\n\n------------------------------\n\nDescription of the current {@link IShoppingCouponDiscount.IAmount} type:\n\n> Discount information with amount unit."},{"type":"object","properties":{"unit":{"title":"Discount unit as percent","description":"Discount unit as percent.\n\nIt means the order price would be discounted by the percent value.","type":"string","enum":["percent"]},"value":{"title":"Discount value as percent","description":"Discount value as percent.\n\n\n@minimum 0\n@maximum 100","type":"number"},"threshold":{"title":"Minimum purchase amount for discount","description":"Minimum purchase amount for discount.\n\nWhen setting this value, discount coupons cannot be applied to\norder totals that are less than this value.","anyOf":[{"type":"null"},{"type":"number","description":"@minimum 0"}]},"limit":{"title":"Maximum amount available for discount","description":"Maximum amount available for discount.\n\nWhen this value is set, no further discount will be given no\nmatter how much you order.","anyOf":[{"type":"null"},{"type":"number","description":"@minimum 0\n@exclusiveMinimum true"}]}},"required":["unit","value","threshold","limit"],"description":"Discount information with percent unit.\n\n------------------------------\n\nDescription of the current {@link IShoppingCouponDiscount.IPercent} type:\n\n> Discount information with percent unit."}]},"restriction":{"title":"Restriction information","description":"Restriction information of the coupon.","type":"object","properties":{"access":{"title":"Access level of coupon","description":"Access level of coupon.\n\n- public: possible to find from public API\n- private: unable to find from public API\n  - arbitrarily assigned by the seller or administrator\n  - issued from one-time link","type":"string","enum":["public","private"]},"exclusive":{"title":"Exclusivity or not","description":"Exclusivity or not.\n\nAn exclusive discount coupon refers to a discount coupon that has an\nexclusive relationship with other discount coupons and can only be\nused alone. That is, when an exclusive discount coupon is used, no\nother discount coupon can be used for the same\n{@link IShoppingOrder order} or {@link IShoppingOrderGood good}.\n\nPlease note that this exclusive attribute is a very different concept\nfrom multiplicative, which means whether the same coupon can be\nmultiplied and applied to multiple coupons of the same order, so\nplease do not confuse them.","type":"boolean"},"volume":{"title":"Limited quantity issued","description":"Limited quantity issued.\n\nIf there is a limit to the quantity issued, it becomes impossible to issue tickets exceeding this value.\n\nIn other words, the concept of N coupons being issued on a first-come, first-served basis is created.","anyOf":[{"type":"null"},{"type":"integer"}]},"volume_per_citizen":{"title":"Limited quantity issued per person","description":"Limited quantity issued per person.\n\nAs a limit to the total amount of issuance per person, it is common to assign 1 to limit duplicate issuance to the same citizen, or to use the NULL value to set no limit.\n\nOf course, by assigning a value of N, the total amount issued to the same citizen can be limited.","anyOf":[{"type":"null"},{"type":"integer"}]},"expired_in":{"title":"Expiration day(s) value","description":"Expiration day(s) value.\n\nThe concept of expiring N days after a discount coupon ticket is issued.\n\nTherefore, customers must use the ticket within N days, if possible, from the time it is issued.","anyOf":[{"type":"null"},{"type":"integer"}]},"expired_at":{"title":"Expiration date","description":"Expiration date.\n\nA concept that expires after YYYY-MM-DD after a discount coupon ticket is issued.\n\nDouble restrictions are possible with expired_in, of which the one with the shorter expiration date is used.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]}},"required":["access","exclusive","volume","volume_per_citizen","expired_in","expired_at"]},"name":{"title":"Representative name of the coupon","description":"Representative name of the coupon.","type":"string"},"opened_at":{"title":"Opening time of the coupon","description":"Opening time of the coupon.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]},"closed_at":{"title":"Closing time of the coupon","description":"Closing time of the coupon.\n\nTickets cannot be issued after this time.\n\nHowever, previously issued tickets can still be used until their\nexpiration date.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]},"created_at":{"title":"Creation tie of the record","description":"Creation tie of the record.\n\n\n@format date-time","type":"string"}},"required":["id","designer","inventory","criterias","discount","restriction","name","opened_at","closed_at","created_at"]}},"tickets":{"type":"array","items":{"description":"Discount coupon ticket issuance details.\n\n`IShoppingCouponTicket` is an entity that symbolizes\n{@link IShoppingCoupon discount coupon} tickets issued by\n{@link IShoppingCustomer customers}.\n\nAnd if the target discount coupon specification itself has an expiration\ndate, the expiration date is recorded in expired_at and is automatically\ndiscarded after that expiration date. Of course, it doesn't matter if you\nuse the discount coupon for your order within the deadline.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"customer":{"title":"Customer who've taken the coupon ticket","description":"Customer information, but not a person but a connection basis.\n\n`IShoppingCustomer` is an entity that literally embodies the information of\nthose who participated in the market as customers. By the way, the\n`IShoppingCustomer` does not mean a person, but a connection basis. Therefore,\neven if the same person connects to the shopping mall multiple, multiple\nrecords are created in `IShoppingCustomer`.\n\nThe first purpose of this is to track the customer's inflow path in detail,\nand it is for cases where the same person enters as a non-member,\n{@link IShoppingCartCommodity puts items in the shopping cart} in advance,\nand only authenticates their {@link IShoppingCitizen real name} or\nregisters/logs in at the moment of {@link IShoppingOrderPublish payment}.\nIt is the second. Lastly, it is to accurately track the activities that\na person performs at the shopping mall in various ways like below.\n\n- Same person comes from an {@link IShoppingExternalUser external service}\n- Same person creates multiple accounts\n- Same person makes a {@link IShoppingOrderPublish purchase} as a non-member with only {@link IShoppingCitizen real name authentication}\n- Same person acts both {@link IShoppingSeller seller} and {@link IShoppingAdministrator admin} at the same time\n\nTherefore, `IShoppingCustomer` can have multiple records with the same\n{@link IShoppingCitizen}, {@link IShoppingMember}, and\n{@link IShoppingExternalUser}. Additionally, if a customer signs up for\nmembership after verifying their real name or signs up for our service after\nbeing a user of an external service, all related records are changed at once.\nTherefore, identification and tracking of customers can be done very\nsystematically.","type":"object","properties":{"type":{"title":"Discriminant for the type of customer","description":"Discriminant for the type of customer.","type":"string","enum":["customer"]},"member":{"title":"Membership information","description":"Membership information.\n\nIf the customer has joined as a member.","anyOf":[{"type":"null"},{"type":"object","properties":{"citizen":{"title":"Citizen information","description":"Citizen information.\n\nOnly when has verified as a citizen, with mobile number and real name.\n\nFor reference, if the member has signed up as a seller or administrator,\nthis citizen information must be.","anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"},"mobile":{"title":"Mobile number","description":"Mobile number.\n\n\n@pattern ^[0-9]*$","x-wrtn-payment-order-mobile":true,"type":"string"},"name":{"title":"Real name, or equivalent nickname","description":"Real name, or equivalent nickname.","x-wrtn-payment-order-citizen":true,"type":"string"}},"required":["id","created_at","mobile","name"],"description":"Citizen verification information.\n\n`IShoppingCitizen` is an entity that records the user's\n{@link name real name} and {@link mobile} input information.\n\nFor reference, in South Korea, real name authentication is required for\ne-commerce participants, so the name attribute is important. However, the\nsituation is different overseas, so in reality, mobile attributes are the\nmost important, and identification of individual person is also done based\non this mobile.\n\nOf course, real name and mobile phone authentication information are\nencrypted and stored."}]},"seller":{"title":"Seller information","description":"Seller information.\n\nIf the member also signed up as a seller.","anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation tmie of record","description":"Creation tmie of record.\n\nAnother words, the time when the seller has signed up.\n\n\n@format date-time","type":"string"}},"required":["id","created_at"],"description":"Seller information.\n\n`IShoppingSeller` is an entity that embodies a person who registers\n{@link IShoppingSale sales} to operate selling activities, with\n{@link IShoppingMember membership} joining.\n\nFor reference, unlike {@link IShoppingCustomer customers} which can\nparticipate even without membership joining, seller must join membership\nto operate sales. Also, seller must do the\n{@link IShoppingCitizen real-name and mobile authentication}, too."}]},"administrator":{"title":"Administrator information","description":"Administrator information.\n\nIf the member also signed up as an administrator.","anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\nAnother words, the time when the administrator has signed up.\n\n\n@format date-time","type":"string"}},"required":["id","created_at"],"description":"Administrator account.\n\n`IShoppingAdministrator` is an entity that embodies a person who manages\nthe shopping mall system, with {@link IShoppingMember membership} joining.\n\nFor reference, unlike {@link IShoppingCustomer customers} which can participate\neven without membership joining, administrator must join membership to operate\nmanagements. Also, administrator must perform the\n{@link IShoppingCitizen real-name and mobile authentication}, too."}]},"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"nickname":{"title":"Nickname that uniquely identifies the member","description":"Nickname that uniquely identifies the member.","type":"string"},"emails":{"title":"List of emails","description":"List of emails.","type":"array","items":{"description":"Email address of member.\n\nThis shopping mall system allows multiple email addresses to be\nregistered for one {@link IShoppingMember member}. If you don't have to\nplan such multiple email addresses, just use only one.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"value":{"title":"Email address value","description":"Email address value.\n\n\n@format email","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"}},"required":["id","value","created_at"]}},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\nAnother words, the time when the member has signed up.\n\n\n@format date-time","type":"string"}},"required":["citizen","seller","administrator","id","nickname","emails","created_at"],"description":"Member Account.\n\n`IShoppingMember` is an entity that symbolizes the case when a\n{@link IShoppingCustomer} signs up as a member of this shopping mall\nsystem.\n\nIf a `IShoppingMember` has seller or administrator property. it means that\nthe {@link IShoppingCustomer} has acting as a {@link IShoppingSeller seller}\nor {@link IShoppingAdministrator administrator} at the same time."}]},"citizen":{"title":"Citizen information","description":"Citizen information.\n\nIf the customer has verified his real name and mobile number.","anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"},"mobile":{"title":"Mobile number","description":"Mobile number.\n\n\n@pattern ^[0-9]*$","x-wrtn-payment-order-mobile":true,"type":"string"},"name":{"title":"Real name, or equivalent nickname","description":"Real name, or equivalent nickname.","x-wrtn-payment-order-citizen":true,"type":"string"}},"required":["id","created_at","mobile","name"],"description":"Citizen verification information.\n\n`IShoppingCitizen` is an entity that records the user's\n{@link name real name} and {@link mobile} input information.\n\nFor reference, in South Korea, real name authentication is required for\ne-commerce participants, so the name attribute is important. However, the\nsituation is different overseas, so in reality, mobile attributes are the\nmost important, and identification of individual person is also done based\non this mobile.\n\nOf course, real name and mobile phone authentication information are\nencrypted and stored."}]},"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"channel":{"title":"Belonged channel","description":"Channel information.\n\n`IShoppingChannel` is a concept that shapes the distribution channel in the\nmarket. Therefore, the difference in the channel in this e-commerce system\nmeans that it is another site or application.\n\nBy the way, if your shopping mall system requires only one channel, then\njust use only one. This concept is designed to be expandable in the future.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"},"code":{"title":"Identifier code","description":"Identifier code.","type":"string"},"name":{"title":"Name of the channel","description":"Name of the channel.","type":"string"}},"required":["id","created_at","code","name"]},"external_user":{"title":"External user information","description":"External user information.\n\nWhen the customer has come from an external service.","anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"citizen":{"title":"Citizen activation info","description":"Citizen activation info.","anyOf":[{"type":"null"},{"type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"},"mobile":{"title":"Mobile number","description":"Mobile number.\n\n\n@pattern ^[0-9]*$","x-wrtn-payment-order-mobile":true,"type":"string"},"name":{"title":"Real name, or equivalent nickname","description":"Real name, or equivalent nickname.","x-wrtn-payment-order-citizen":true,"type":"string"}},"required":["id","created_at","mobile","name"],"description":"Citizen verification information.\n\n`IShoppingCitizen` is an entity that records the user's\n{@link name real name} and {@link mobile} input information.\n\nFor reference, in South Korea, real name authentication is required for\ne-commerce participants, so the name attribute is important. However, the\nsituation is different overseas, so in reality, mobile attributes are the\nmost important, and identification of individual person is also done based\non this mobile.\n\nOf course, real name and mobile phone authentication information are\nencrypted and stored."}]},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\nAnother word, first time when the external user connected.\n\n\n@format date-time","type":"string"},"uid":{"title":"Identifier key of external user from the external system","description":"Identifier key of external user from the external system.","type":"string"},"application":{"title":"Identifier code of the external service","description":"Identifier code of the external service.\n\nIt can be same with {@link IShoppingChannel.code} in common.","type":"string"},"nickname":{"title":"Nickname of external user in the external system","description":"Nickname of external user in the external system.","type":"string"},"data":{"description":"Additional information about external user from the external\nsystem."}},"required":["id","citizen","created_at","uid","application","nickname","data"],"description":"External user information.\n\n`IShoppingExternalUser` is an entity dsigned for when this system needs\nto connect with external services and welcome their users as\n{@link IShoppingCustomer customers} of this service.\n\nFor reference, customers who connect from an external service must have\nthis record, and the external service user is identified through the two\nattributes {@link application} and {@link uid}. If a customer connected\nfrom an external service completes\n{@link IShoppingCitizen real-name authentication} from this service, each\ntime the external service user reconnects to this service and issues a\nnew customer authentication token, real-name authentication begins with\ncompleted.\n\nAnd {@link password} is the password issued to the user by the external\nservice system (the so-called permanent user authentication token), and\nis never the actual user password. However, for customers who entered the\nsame application and uid as the current external system user, this is to\ndetermine whether to view this as a correct external system user or a\nviolation.\n\nIn addition, additional information received from external services can\nbe recorded in the data field in JSON format."}]},"href":{"title":"Connection address","description":"Connection address.\n\nSame with {@link window.location.href} of client.\n\n\n@format uri","type":"string"},"referrer":{"title":"Referrer address","description":"Referrer address.\n\nSame with {@link window.document.referrer} of client.","anyOf":[{"type":"null"},{"type":"string","description":"@format uri"},{"type":"string","description":"@maxLength 0"}]},"ip":{"title":"Connection IP Address","description":"Connection IP Address.","anyOf":[{"type":"string","description":"@format ipv4"},{"type":"string","description":"@format ipv6"}]},"created_at":{"title":"Creation time of the connection record","description":"Creation time of the connection record.\n\n\n@format date-time","type":"string"}},"required":["type","member","citizen","id","channel","external_user","href","referrer","ip","created_at"]},"coupon":{"title":"Target coupon","description":"Discount coupon.\n\n`IShoppingCoupon` is an entity that symbolizes discount coupons at\na shopping mall.\n\nNote that, `IShoppingCoupon` only contains specification information\nabout discount coupons. Please keep in mind that this is a different\nconcept from {@link IShoppingCouponTicket}, which refers to the issuance\nof a discount coupon, or {@link IShoppingCouponTicketPayment}, which\nrefers to its payment.\n\nAdditionally, discount coupons are applied on an order-by-order basis,\nbut each has its own unique restrictions. For example, a coupon with\n{@link IShoppingCouponSellerCriteria} may or may not be used only for\n{@link IShoppingSale} of listings registered by the {@link IShoppingSeller}.\nAlso, there are restrictions such as\n{@link IShoppingCouponDiscount.threshold minimum amount restrictions} for\nusing discount coupons and\n{@link IShoppingCouponDiscount.limit maximum discount amount limits}.\n\nIn addition, you can set whether to issue discount coupons publicly or\ngive them only to people who know the specific issuing code. In addition,\nthere are restrictions such as issued discount coupons having an\n{@link IShoppingCouponRestriction.expired_at expiration date} or being\nissued only to customers who came in through a\n{@link IShoppingCouponFunnelCriteria specific funnel}.\n\nFor more information, please refer to the properties below and the\nsubsidiary entities described later.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"designer":{"title":"Designer who've made the coupon","description":"Designer who've made the coupon.","anyOf":[{"type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\nAnother words, the time when the administrator has signed up.\n\n\n@format date-time","type":"string"}},"required":["id","created_at"],"description":"Administrator account.\n\n`IShoppingAdministrator` is an entity that embodies a person who manages\nthe shopping mall system, with {@link IShoppingMember membership} joining.\n\nFor reference, unlike {@link IShoppingCustomer customers} which can participate\neven without membership joining, administrator must join membership to operate\nmanagements. Also, administrator must perform the\n{@link IShoppingCitizen real-name and mobile authentication}, too."},{"type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation tmie of record","description":"Creation tmie of record.\n\nAnother words, the time when the seller has signed up.\n\n\n@format date-time","type":"string"}},"required":["id","created_at"],"description":"Seller information.\n\n`IShoppingSeller` is an entity that embodies a person who registers\n{@link IShoppingSale sales} to operate selling activities, with\n{@link IShoppingMember membership} joining.\n\nFor reference, unlike {@link IShoppingCustomer customers} which can\nparticipate even without membership joining, seller must join membership\nto operate sales. Also, seller must do the\n{@link IShoppingCitizen real-name and mobile authentication}, too."}]},"inventory":{"title":"Inventory information","description":"Inventory information of the coupon.\n\nIf a {@link IShoppingCoupon coupon} has been designed with limited\ninventory, this `IShoppingCouponInventory` structure represents the\nremaining inventory information.","type":"object","properties":{"volume":{"title":"Remaining volume for everyone","description":"Remaining volume for everyone.\n\nIf there is a limit to the quantity issued, it becomes impossible to\nissue tickets exceeding this value.\n\nIn other words, the concept of N coupons being issued on a first-come,\nfirst-served basis is created.","anyOf":[{"type":"null"},{"type":"integer"}]},"volume_per_citizen":{"title":"Remaining volume per citizen","description":"Remaining volume per citizen.\n\nAs a limit to the total amount of issuance per person, it is common to\nassign 1 to limit duplicate issuance to the same citizen, or to use the\n`nul`` value to set no limit.\n\nOf course, by assigning a value of N, the total amount issued to the\nsame citizen can be limited.","anyOf":[{"type":"null"},{"type":"integer"}]}},"required":["volume","volume_per_citizen"]},"criterias":{"title":"List of criteria information","description":"List of criteria information.","type":"array","items":{"anyOf":[{"type":"object","properties":{"sections":{"title":"Target sections to include or exclude","description":"Target sections to include or exclude.\n\n\n@minItems 1","type":"array","items":{"description":"Section information.\n\n`IShoppingSection` is a concept that refers to the spatial information of\nthe market.\n\nIf we compare the section mentioned here to the offline market, it means a\nspatially separated area within the store, such as the \"fruit corner\" or\n\"butcher corner\". Therefore, in the {@link IShoppingSale sale} entity, it is\nnot possible to classify multiple sections simultaneously, but only one section\ncan be classified.\n\nBy the way, if your shopping mall system requires only one section, then just\nuse only one. This concept is designed to be expandable in the future.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"code":{"title":"Identifier code","description":"Identifier code.","type":"string"},"name":{"title":"Representative name of the section","description":"Representative name of the section.","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"}},"required":["id","code","name","created_at"]}},"type":{"title":"Descrimanator type","description":"Descrimanator type.","type":"string","enum":["section"]},"direction":{"title":"Direction of the criteria","description":"Direction of the criteria.","type":"string","enum":["include","exclude"]}},"required":["sections","type","direction"],"description":"Conditions for sections of discount coupons.\n\n`IShoppingCouponSectionCriteria` is a subtype entity of\n{@link IShoppingCouponCriteriaBase} and is used when setting conditions\nfor a specific {@link IShoppingSection section}.\n\nIf the {@link direction} value is \"include\", the coupon can only be used\nfor the target {@link sections}. Conversely, if it is \"exclude\", the\ncoupon cannot be used."},{"type":"object","properties":{"sellers":{"title":"Target sellers to include or exclude","description":"Target sellers to include or exclude.\n\n\n@minItems 1","type":"array","items":{"description":"Seller information.\n\n`IShoppingSeller` is an entity that embodies a person who registers\n{@link IShoppingSale sales} to operate selling activities, with\n{@link IShoppingMember membership} joining.\n\nFor reference, unlike {@link IShoppingCustomer customers} which can\nparticipate even without membership joining, seller must join membership\nto operate sales. Also, seller must do the\n{@link IShoppingCitizen real-name and mobile authentication}, too.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation tmie of record","description":"Creation tmie of record.\n\nAnother words, the time when the seller has signed up.\n\n\n@format date-time","type":"string"}},"required":["id","created_at"]}},"type":{"title":"Descrimanator type","description":"Descrimanator type.","type":"string","enum":["seller"]},"direction":{"title":"Direction of the criteria","description":"Direction of the criteria.","type":"string","enum":["include","exclude"]}},"required":["sellers","type","direction"],"description":"Conditions for sellers of discount coupons.\n\n`IShoppingCouponSellerCriteria` is a subtype entity of\n{@link IShoppingCouponCriteriaBase} and is used when setting conditions\nfor a specific {@link IShoppingSeller seller}.\n\nIf the {@link direction} value is \"include\", the coupon can only be used\nfor the target {@link sellers}. Conversely, if it is \"exclude\", the\ncoupon cannot be used."},{"type":"object","properties":{"sales":{"title":"Target sales to include or exclude","description":"Target sales to include or exclude.\n\n\n@minItems 1","type":"array","items":{"description":"Summarized information of sale.\n\nThis summarized information being used for pagination.\n\n------------------------------\n\nDescription of the current {@link IShoppingSale.ISummary} type:\n\n> Summarized information of sale.\n> \n> This summarized information being used for pagination.\n\n------------------------------\n\nDescription of the parent {@link IShoppingSale} type:\n\n> Seller sales products.\n> \n> `IShoppingSale` is an entity that embodies \"product sales\" (sales)\n> information registered by the {@link ISoppingSeller seller}. And the main\n> information of the sale is recorded in the sub {@link IShoppingSaleSnapshot},\n> not in the main `IShoppingSale`. When a seller changes a previously registered\n> item, the existing `IShoppingSale` record is not changed, but a new\n> {@link IShoppingSaleSnapshot snapshot} record be created.\n> \n> This is to preserve the {@link IShoppingCustomer customer}'s\n> {@link IShoppingOrder purchase history} flawlessly after the customer\n> purchases a specific item, even if the seller changes the components or\n> price of the item. It is also intended to support sellers in so-called A/B\n> testing, which involves changing components or prices and measuring the\n> performance in each case.","type":"object","properties":{"section":{"title":"Belonged section","description":"Section information.\n\n`IShoppingSection` is a concept that refers to the spatial information of\nthe market.\n\nIf we compare the section mentioned here to the offline market, it means a\nspatially separated area within the store, such as the \"fruit corner\" or\n\"butcher corner\". Therefore, in the {@link IShoppingSale sale} entity, it is\nnot possible to classify multiple sections simultaneously, but only one section\ncan be classified.\n\nBy the way, if your shopping mall system requires only one section, then just\nuse only one. This concept is designed to be expandable in the future.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"code":{"title":"Identifier code","description":"Identifier code.","type":"string"},"name":{"title":"Representative name of the section","description":"Representative name of the section.","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"}},"required":["id","code","name","created_at"]},"seller":{"title":"Seller who has registered the sale","description":"Summary of seller information.\n\n------------------------------\n\nDescription of the current {@link IShoppingSeller.ISummary} type:\n\n> Summary of seller information.\n\n------------------------------\n\nDescription of the parent {@link IShoppingSeller} type:\n\n> Seller information.\n> \n> `IShoppingSeller` is an entity that embodies a person who registers\n> {@link IShoppingSale sales} to operate selling activities, with\n> {@link IShoppingMember membership} joining.\n> \n> For reference, unlike {@link IShoppingCustomer customers} which can\n> participate even without membership joining, seller must join membership\n> to operate sales. Also, seller must do the\n> {@link IShoppingCitizen real-name and mobile authentication}, too.","type":"object","properties":{"type":{"title":"Discriminant for the type of seller","description":"Discriminant for the type of seller.","type":"string","enum":["seller"]},"member":{"title":"Membership joining information","description":"Invert information of member.\n\nThis invert member information has been designed to be used for another\ninvert information of sellers and administrators like below.\n\n- {@link IShoppingSeller.IInvert}\n- {@link IShoppingAdministrator.IInvert}\n\n------------------------------\n\nDescription of the current {@link IShoppingMember.IInvert} type:\n\n> Invert information of member.\n> \n> This invert member information has been designed to be used for another\n> invert information of sellers and administrators like below.\n> \n> - {@link IShoppingSeller.IInvert}\n> - {@link IShoppingAdministrator.IInvert}\n\n------------------------------\n\nDescription of the parent {@link IShoppingMember} type:\n\n> Member Account.\n> \n> `IShoppingMember` is an entity that symbolizes the case when a\n> {@link IShoppingCustomer} signs up as a member of this shopping mall\n> system.\n> \n> If a `IShoppingMember` has seller or administrator property. it means that\n> the {@link IShoppingCustomer} has acting as a {@link IShoppingSeller seller}\n> or {@link IShoppingAdministrator administrator} at the same time.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"nickname":{"title":"Nickname that uniquely identifies the member","description":"Nickname that uniquely identifies the member.","type":"string"},"emails":{"title":"List of emails","description":"List of emails.","type":"array","items":{"description":"Email address of member.\n\nThis shopping mall system allows multiple email addresses to be\nregistered for one {@link IShoppingMember member}. If you don't have to\nplan such multiple email addresses, just use only one.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"value":{"title":"Email address value","description":"Email address value.\n\n\n@format email","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"}},"required":["id","value","created_at"]}},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\nAnother words, the time when the member has signed up.\n\n\n@format date-time","type":"string"}},"required":["id","nickname","emails","created_at"]},"citizen":{"title":"Real-name and mobile number authentication information","description":"Citizen verification information.\n\n`IShoppingCitizen` is an entity that records the user's\n{@link name real name} and {@link mobile} input information.\n\nFor reference, in South Korea, real name authentication is required for\ne-commerce participants, so the name attribute is important. However, the\nsituation is different overseas, so in reality, mobile attributes are the\nmost important, and identification of individual person is also done based\non this mobile.\n\nOf course, real name and mobile phone authentication information are\nencrypted and stored.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation time of record","description":"Creation time of record.\n\n\n@format date-time","type":"string"},"mobile":{"title":"Mobile number","description":"Mobile number.\n\n\n@pattern ^[0-9]*$","x-wrtn-payment-order-mobile":true,"type":"string"},"name":{"title":"Real name, or equivalent nickname","description":"Real name, or equivalent nickname.","x-wrtn-payment-order-citizen":true,"type":"string"}},"required":["id","created_at","mobile","name"]},"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation tmie of record","description":"Creation tmie of record.\n\nAnother words, the time when the seller has signed up.\n\n\n@format date-time","type":"string"}},"required":["type","member","citizen","id","created_at"]},"price_range":{"title":"Price range of the unit","type":"object","properties":{"lowest":{"description":"Shopping price interface.","type":"object","properties":{"nominal":{"title":"Nominal price","description":"Nominal price.\n\nThis is not {@link real real price} to pay, but just a nominal price to show.\nIf this value is greater than the {@link real real price}, it would be shown\nlike {@link IShoppingSeller seller} is giving a discount.\n\n\n@minimum 0","type":"number"},"real":{"title":"Real price to pay","description":"Real price to pay.\n\n\n@minimum 0","type":"number"}},"required":["nominal","real"]},"highest":{"description":"Shopping price interface.","type":"object","properties":{"nominal":{"title":"Nominal price","description":"Nominal price.\n\nThis is not {@link real real price} to pay, but just a nominal price to show.\nIf this value is greater than the {@link real real price}, it would be shown\nlike {@link IShoppingSeller seller} is giving a discount.\n\n\n@minimum 0","type":"number"},"real":{"title":"Real price to pay","description":"Real price to pay.\n\n\n@minimum 0","type":"number"}},"required":["nominal","real"]}},"required":["lowest","highest"]},"id":{"title":"Primary Key of Sale","description":"Primary Key of Sale.\n\n\n@format uuid","type":"string"},"snapshot_id":{"title":"Primary Key of Snapshot","description":"Primary Key of Snapshot.\n\n\n@format uuid","type":"string"},"latest":{"title":"Whether the snapshot is the latest one or not","description":"Whether the snapshot is the latest one or not.","type":"boolean"},"content":{"title":"Description and image content describing the sale","description":"Description of the current {@link IShoppingSaleContent} type:\n\n> Content information of sale snapshot.\n> \n> `IShoppingSaleContent` is an entity embodies the description contents\n> of {@link IShoppingSale}.","type":"object","properties":{"id":{"description":"@format uuid","type":"string"},"title":{"type":"string"},"thumbnails":{"type":"array","items":{"description":"Attachment File.\n\nEvery attachment files that are managed in current system.\n\nFor reference, it is possible to omit one of file {@link name}\nor {@link extension} like `.gitignore` or `README` case, but not\npossible to omit both of them.","type":"object","properties":{"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"created_at":{"title":"Creation time of attachment file","description":"Creation time of attachment file.\n\n\n@format date-time","type":"string"},"name":{"title":"File name, except extension","description":"File name, except extension.\n\nIf there's file `.gitignore`, then its name is an empty string.\n\n\n@maxLength 255","type":"string"},"extension":{"title":"Extension","description":"Extension.\n\nPossible to omit like `README` case.","anyOf":[{"type":"null"},{"type":"string","description":"@minLength 1\n@maxLength 8"}]},"url":{"title":"URL path of the real file","description":"URL path of the real file.\n\n\n@format uri\n@contentMediaType image/*","type":"string"}},"required":["id","created_at","name","extension","url"]}}},"required":["id","title","thumbnails"]},"categories":{"title":"List of categories","description":"List of categories.\n\nWhich categories the sale is registered to.","type":"array","items":{"$ref":"#/$defs/IShoppingChannelCategory.IInvert"}},"tags":{"title":"List of search tags","description":"List of search tags.","type":"array","items":{"type":"string"}},"units":{"title":"List of units","description":"List of units.\n\nRecords about individual product composition information that are sold\nin the sale. Each {@link IShoppingSaleUnit unit} record has configurable\n{@link IShoppingSaleUnitOption options},\n{@link IShoppingSaleUnitOptionCandidate candidate} values for each\noption, and {@link IShoppingSaleUnitStock final stocks} determined by\nselecting every candidate values of each option.\n\n\n@minItems 1","type":"array","items":{"description":"Description of the current {@link IShoppingSaleUnit} type:\n\n> Product composition information handled in the sale.\n> \n> `IShoppingSaleUnit` is an entity that embodies the \"individual product\"\n> information handled in the {@link IShoppingSale sale}.\n> \n> For reference, the reason why `IShoppingSaleUnit` is separated from\n> {@link IShoppingSaleSnapshot} by an algebraic relationship of 1: N is because\n> there are some cases where multiple products are sold in one listing. This is\n> the case with so-called \"bundled products\".\n> \n> - Bundle from regular product (Mackbook Set)\n>   - Main Body\n>   - Keyboard\n>   - Mouse\n>   - Apple Care (Free A/S Voucher)\n> \n> And again, `IShoppingSaleUnit` does not in itself refer to the\n> {@link IShoppingSaleUnitStock final stock} that the\n> {@link IShoppingCustomer customer} will {@link IShoppingOrder purchase}.\n> The final stock can be found only after selecting all given\n> {@link IShoppingSaleUnitOption options} and their\n> {@link IShoppingSaleUnitOptionCandidate candidate values}.\n> \n> For example, even if you buy a Macbook, the final stocks are determined only\n> after selecting all the options (CPU / RAM / SSD), etc.","type":"object","properties":{"price_range":{"type":"object","properties":{"lowest":{"description":"Shopping price interface.","type":"object","properties":{"nominal":{"title":"Nominal price","description":"Nominal price.\n\nThis is not {@link real real price} to pay, but just a nominal price to show.\nIf this value is greater than the {@link real real price}, it would be shown\nlike {@link IShoppingSeller seller} is giving a discount.\n\n\n@minimum 0","type":"number"},"real":{"title":"Real price to pay","description":"Real price to pay.\n\n\n@minimum 0","type":"number"}},"required":["nominal","real"]},"highest":{"description":"Shopping price interface.","type":"object","properties":{"nominal":{"title":"Nominal price","description":"Nominal price.\n\nThis is not {@link real real price} to pay, but just a nominal price to show.\nIf this value is greater than the {@link real real price}, it would be shown\nlike {@link IShoppingSeller seller} is giving a discount.\n\n\n@minimum 0","type":"number"},"real":{"title":"Real price to pay","description":"Real price to pay.\n\n\n@minimum 0","type":"number"}},"required":["nominal","real"]}},"required":["lowest","highest"]},"id":{"title":"Primary Key","description":"Primary Key.\n\n\n@format uuid","type":"string"},"name":{"title":"Representative name of the unit","description":"Representative name of the unit.","type":"string"},"primary":{"title":"Whether the unit is primary or not","description":"Whether the unit is primary or not.\n\nJust a labeling value.","type":"boolean"},"required":{"title":"Whether the unit is required or not","description":"Whether the unit is required or not.\n\nWhen the unit is required, the customer must select the unit. If do not\nselect, customer can't buy it.\n\nFor example, if there's a sale \"Macbook Set\" and one of the unit is the\n\"Main Body\", is it possible to buy the \"Macbook Set\" without the\n\"Main Body\" unit? This property is for that case.","type":"boolean"}},"required":["price_range","id","name","primary","required"]}},"created_at":{"title":"Creation time of the record","description":"Creation time of the record.\n\nNote that, this property is different with {@link opened_at},\nwhich means the timepoint of the sale is opened.\n\n\n@format date-time","type":"string"},"updated_at":{"title":"Last updated time of the record","description":"Last updated time of the record.\n\nIn another words, creation time of the last snapshot.\n\n\n@format date-time","type":"string"},"paused_at":{"title":"Paused time of the sale","description":"Paused time of the sale.\n\nThe sale is paused by the seller, for some reason.\n\n{@link IShoppingCustomer Customers} can still see the sale on the\nboth list and detail pages, but the sale has a warning label\n\"The sale is paused by the seller\".","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]},"suspended_at":{"title":"Suspended time of the sale","description":"Suspended time of the sale.\n\nThe sale is suspended by the seller, for some reason.\n\n{@link IShoppingCustomer Customers} cannot see the sale on the\nboth list and detail pages. It is almost same with soft delettion,\nbut there's a little bit difference that the owner\n{@link IShoppingSeller seller} can still see the sale and resume it.\n\nOf course, the {@link IShoppingCustomer customers} who have\nalready purchased the sale can still see the sale on the\n{@link IShoppingOrder order} page.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]},"opened_at":{"title":"Opening time of the sale","description":"Opening time of the sale.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]},"closed_at":{"title":"Closing time of the sale","description":"Closing time of the sale.\n\nIf this value is `null`, the sale be continued forever.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]}},"required":["section","seller","price_range","id","snapshot_id","latest","content","categories","tags","units","created_at","updated_at","paused_at","suspended_at","opened_at","closed_at"]}},"type":{"title":"Descrimanator type","description":"Descrimanator type.","type":"string","enum":["sale"]},"direction":{"title":"Direction of the criteria","description":"Direction of the criteria.","type":"string","enum":["include","exclude"]}},"required":["sales","type","direction"],"description":"Conditions for sales of discount coupons.\n\n`IShoppingCouponSaleCriteria` is a subtype entity of\n{@link IShoppingCouponCriteriaBase} and is used when setting conditions\nfor a specific {@link IShoppingSale sale}.\n\nIf the {@link direction} value is \"include\", the coupon can only be used\nfor the target {@link sales}. Conversely, if it is \"exclude\", the\ncoupon cannot be used."},{"type":"object","properties":{"funnels":{"title":"List of target funnels","description":"List of target funnels.\n\n\n@minItems 1","type":"array","items":{"anyOf":[{"type":"object","properties":{"kind":{"title":"Kind of funnel restriction","description":"Kind of funnel restriction.","type":"string","enum":["url","referrer"]},"value":{"title":"Target value","description":"Target value.","type":"string"}},"required":["kind","value"],"description":"Kind of funnel restriction by a value.\n\n------------------------------\n\nDescription of the current {@link IShoppingCouponFunnelCriteria.IValueFunnel} type:\n\n> Kind of funnel restriction by a value.\n\n------------------------------\n\nDescription of the parent {@link IShoppingCouponFunnelCriteria} type:\n\n> Limit the funnel of discount coupons.\n> \n> `ishoppingcouponfunnelcriteria` is a subtype entity of\n> {@link IShoppingCouponCriteria}, and is used when you want to issue or\n> exclude discount coupons only to {@link IShoppingCustomer customers} who\n> came from a specific path.\n> \n> And funnel restrictions are possible in 3 ways: The first is\n> {@link IShoppingCustomer.referrer}, and by parsing\n> {@link IShoppingCustomer.href}, which records the customer's access\n> address, restrictions can be made in units of specific URLs or variables."},{"type":"object","properties":{"kind":{"title":"Kind of funnel restriction","description":"Kind of funnel restriction.","type":"string","enum":["variable"]},"key":{"title":"Target variable's key","description":"Target variable's key.","type":"string"},"value":{"title":"Target variable's value","description":"Target variable's value.","type":"string"}},"required":["kind","key","value"],"description":"Kind of funnel restriction by a variable.\n\n------------------------------\n\nDescription of the current {@link IShoppingCouponFunnelCriteria.IVariableFunnel} type:\n\n> Kind of funnel restriction by a variable.\n\n------------------------------\n\nDescription of the parent {@link IShoppingCouponFunnelCriteria} type:\n\n> Limit the funnel of discount coupons.\n> \n> `ishoppingcouponfunnelcriteria` is a subtype entity of\n> {@link IShoppingCouponCriteria}, and is used when you want to issue or\n> exclude discount coupons only to {@link IShoppingCustomer customers} who\n> came from a specific path.\n> \n> And funnel restrictions are possible in 3 ways: The first is\n> {@link IShoppingCustomer.referrer}, and by parsing\n> {@link IShoppingCustomer.href}, which records the customer's access\n> address, restrictions can be made in units of specific URLs or variables."}]}},"type":{"title":"Descrimanator type","description":"Descrimanator type.","type":"string","enum":["funnel"]},"direction":{"title":"Direction of the criteria","description":"Direction of the criteria.","type":"string","enum":["include","exclude"]}},"required":["funnels","type","direction"],"description":"Limit the funnel of discount coupons.\n\n`ishoppingcouponfunnelcriteria` is a subtype entity of\n{@link IShoppingCouponCriteria}, and is used when you want to issue or\nexclude discount coupons only to {@link IShoppingCustomer customers} who\ncame from a specific path.\n\nAnd funnel restrictions are possible in 3 ways: The first is\n{@link IShoppingCustomer.referrer}, and by parsing\n{@link IShoppingCustomer.href}, which records the customer's access\naddress, restrictions can be made in units of specific URLs or variables."}]}},"discount":{"title":"Discount information","description":"Discount information.","anyOf":[{"type":"object","properties":{"unit":{"title":"Discount unit as amount","description":"Discount unit as amount.\n\nIt means the order price would be discounted by the amount value.","type":"string","enum":["amount"]},"value":{"title":"Discount value as amount","description":"Discount value as amount.","type":"number"},"threshold":{"title":"Minimum purchase amount for discount","description":"Minimum purchase amount for discount.\n\nWhen setting this value, discount coupons cannot be applied to\norder totals that are less than this value.","anyOf":[{"type":"null"},{"type":"number","description":"@minimum 0"}]},"limit":{"title":"Maximum amount available for discount","description":"Maximum amount available for discount.\n\nWhen this value is set, no further discount will be given no\nmatter how much you order. This property would be meaningful\nonly when the {@link multiplicative} is `true`.","anyOf":[{"type":"null"},{"type":"number","description":"@minimum 0\n@exclusiveMinimum true"}]},"multiplicative":{"title":"Multiplicative or not","description":"Multiplicative or not.\n\nIf this property is `true`, the discount value would be multiplied\nto the {@link IShoppingCartCommodity.volume} or\n{@link IShoppingOrderGood.volume} value. Also, in that case,\nthe {@link limit} property would be meaningful.","type":"boolean"}},"required":["unit","value","threshold","limit","multiplicative"],"description":"Discount information with amount unit.\n\n------------------------------\n\nDescription of the current {@link IShoppingCouponDiscount.IAmount} type:\n\n> Discount information with amount unit."},{"type":"object","properties":{"unit":{"title":"Discount unit as percent","description":"Discount unit as percent.\n\nIt means the order price would be discounted by the percent value.","type":"string","enum":["percent"]},"value":{"title":"Discount value as percent","description":"Discount value as percent.\n\n\n@minimum 0\n@maximum 100","type":"number"},"threshold":{"title":"Minimum purchase amount for discount","description":"Minimum purchase amount for discount.\n\nWhen setting this value, discount coupons cannot be applied to\norder totals that are less than this value.","anyOf":[{"type":"null"},{"type":"number","description":"@minimum 0"}]},"limit":{"title":"Maximum amount available for discount","description":"Maximum amount available for discount.\n\nWhen this value is set, no further discount will be given no\nmatter how much you order.","anyOf":[{"type":"null"},{"type":"number","description":"@minimum 0\n@exclusiveMinimum true"}]}},"required":["unit","value","threshold","limit"],"description":"Discount information with percent unit.\n\n------------------------------\n\nDescription of the current {@link IShoppingCouponDiscount.IPercent} type:\n\n> Discount information with percent unit."}]},"restriction":{"title":"Restriction information","description":"Restriction information of the coupon.","type":"object","properties":{"access":{"title":"Access level of coupon","description":"Access level of coupon.\n\n- public: possible to find from public API\n- private: unable to find from public API\n  - arbitrarily assigned by the seller or administrator\n  - issued from one-time link","type":"string","enum":["public","private"]},"exclusive":{"title":"Exclusivity or not","description":"Exclusivity or not.\n\nAn exclusive discount coupon refers to a discount coupon that has an\nexclusive relationship with other discount coupons and can only be\nused alone. That is, when an exclusive discount coupon is used, no\nother discount coupon can be used for the same\n{@link IShoppingOrder order} or {@link IShoppingOrderGood good}.\n\nPlease note that this exclusive attribute is a very different concept\nfrom multiplicative, which means whether the same coupon can be\nmultiplied and applied to multiple coupons of the same order, so\nplease do not confuse them.","type":"boolean"},"volume":{"title":"Limited quantity issued","description":"Limited quantity issued.\n\nIf there is a limit to the quantity issued, it becomes impossible to issue tickets exceeding this value.\n\nIn other words, the concept of N coupons being issued on a first-come, first-served basis is created.","anyOf":[{"type":"null"},{"type":"integer"}]},"volume_per_citizen":{"title":"Limited quantity issued per person","description":"Limited quantity issued per person.\n\nAs a limit to the total amount of issuance per person, it is common to assign 1 to limit duplicate issuance to the same citizen, or to use the NULL value to set no limit.\n\nOf course, by assigning a value of N, the total amount issued to the same citizen can be limited.","anyOf":[{"type":"null"},{"type":"integer"}]},"expired_in":{"title":"Expiration day(s) value","description":"Expiration day(s) value.\n\nThe concept of expiring N days after a discount coupon ticket is issued.\n\nTherefore, customers must use the ticket within N days, if possible, from the time it is issued.","anyOf":[{"type":"null"},{"type":"integer"}]},"expired_at":{"title":"Expiration date","description":"Expiration date.\n\nA concept that expires after YYYY-MM-DD after a discount coupon ticket is issued.\n\nDouble restrictions are possible with expired_in, of which the one with the shorter expiration date is used.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]}},"required":["access","exclusive","volume","volume_per_citizen","expired_in","expired_at"]},"name":{"title":"Representative name of the coupon","description":"Representative name of the coupon.","type":"string"},"opened_at":{"title":"Opening time of the coupon","description":"Opening time of the coupon.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]},"closed_at":{"title":"Closing time of the coupon","description":"Closing time of the coupon.\n\nTickets cannot be issued after this time.\n\nHowever, previously issued tickets can still be used until their\nexpiration date.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]},"created_at":{"title":"Creation tie of the record","description":"Creation tie of the record.\n\n\n@format date-time","type":"string"}},"required":["id","designer","inventory","criterias","discount","restriction","name","opened_at","closed_at","created_at"]},"created_at":{"title":"Creation time of the record","description":"Creation time of the record.\n\n\n@format date-time","type":"string"},"expired_at":{"title":"Expiration time of the ticket","description":"Expiration time of the ticket.","anyOf":[{"type":"null"},{"type":"string","description":"@format date-time"}]}},"required":["id","customer","coupon","created_at","expired_at"]}},"entries":{"type":"array","items":{"type":"object","properties":{"commodity_id":{"description":"@format uuid","type":"string"},"pseudo":{"type":"boolean"},"coupon_id":{"description":"@format uuid","type":"string"},"amount":{"type":"number"}},"required":["commodity_id","pseudo","coupon_id","amount"]}},"amount":{"type":"number"}},"required":["coupons","tickets","entries","amount"]}}},"required":["deposit","mileage","combinations"]},"description":"Get discountable info.\n\nCompute discountable features about the\n {@link IShoppingCartCommodity shopping cart} even including\nnon-carted {@link IShoppingSale sales}.\n\nReturned {@link IShoppingCartDiscountable} contains including\ncombinations of adjustable {@link IShoppingCoupon coupons},\nwithdrawable {@link IShoppingDepositHistory deposits} and\n{@link IShoppingMileageHistory mileages}.\n\nIf you want to know the discountable info about some specific sales\nthat have not been carted yet, specify the sales to the\n{@link IShoppingCartDiscountable.pseudos} property with composing\n{@link IShoppingCartCommodity.ICreate creation info of the commodities}.\nThen, they would be included in the discountable info.","tags":["Order"]},"arguments":{"body":{"commodity_ids":["7e67b219-bf42-41db-b401-819d947af444","b7920d51-5f78-401b-8d57-57911bdb701b","5a8cff52-1bf3-4e19-a4ad-0f5faf61f0dc"],"pseudos":[]}},"value":{"deposit":32000,"mileage":1050,"combinations":[{"coupons":[{"id":"e885677e-eb49-41d2-8fd3-e1f64a7491be","designer":{"id":"5831cacc-7542-497f-a2d6-710574c3f498","created_at":"2025-02-11T07:20:37.356Z"},"inventory":{"volume":null,"volume_per_citizen":null},"criterias":[{"sections":[{"id":"2ddcc9ca-49c0-4497-88f4-0a544380bab3","code":"general","name":"General","created_at":"2025-02-11T07:20:37.245Z"}],"type":"section","direction":"include"}],"discount":{"unit":"amount","value":5000,"threshold":null,"limit":null,"multiplicative":false},"restriction":{"access":"public","exclusive":false,"volume":null,"volume_per_citizen":null,"expired_in":15,"expired_at":null},"name":"ymy hfkmgr zyvcm xmphl deurjmb vdrqtz xkqcj aqtlnh yicdiwl iga ccbzbm iwdj pmcc jicaq mpdyys hote","opened_at":"2025-02-11T07:20:43.730Z","closed_at":null,"created_at":"2025-02-11T07:20:43.733Z"},{"id":"afab8fab-26d9-4051-8d13-6ae1c298ce41","designer":{"id":"5831cacc-7542-497f-a2d6-710574c3f498","created_at":"2025-02-11T07:20:37.356Z"},"inventory":{"volume":null,"volume_per_citizen":null},"criterias":[{"sellers":[{"id":"7807ed28-9873-407d-a6df-c72ec85b0771","created_at":"2025-02-11T07:20:37.358Z"}],"type":"seller","direction":"include"}],"discount":{"unit":"amount","value":5000,"threshold":null,"limit":null,"multiplicative":false},"restriction":{"access":"public","exclusive":false,"volume":null,"volume_per_citizen":null,"expired_in":15,"expired_at":null},"name":"yscvqke mdau kebzur avlqv uvchuk srybyxs vlwtns swrmzu gespiv siy dvnzf pfct hcjkzd twu ahzaq ekbnaj","opened_at":"2025-02-11T07:20:43.720Z","closed_at":null,"created_at":"2025-02-11T07:20:43.723Z"},{"id":"671eaaa6-1cc2-49fe-bb5f-4a355e19b817","designer":{"id":"5831cacc-7542-497f-a2d6-710574c3f498","created_at":"2025-02-11T07:20:37.356Z"},"inventory":{"volume":null,"volume_per_citizen":null},"criterias":[{"sales":[{"section":{"id":"2ddcc9ca-49c0-4497-88f4-0a544380bab3","code":"general","name":"General","created_at":"2025-02-11T07:20:37.245Z"},"seller":{"type":"seller","member":{"id":"02d170ce-0520-43f2-88a5-93262df6a785","nickname":"Robot","emails":[{"id":"e77997f6-ee81-4a82-a887-37a29e7abae3","value":"robot@nestia.io","created_at":"2025-02-11T07:20:37.344Z"}],"created_at":"2025-02-11T07:20:37.344Z"},"citizen":{"id":"6e6e1002-fc54-4002-9b30-d5c9ee216d6a","created_at":"2025-02-11T07:20:37.276Z","mobile":"01012345678","name":"Robot"},"id":"7807ed28-9873-407d-a6df-c72ec85b0771","created_at":"2025-02-11T07:20:37.358Z"},"price_range":{"lowest":{"nominal":1350000,"real":1350000},"highest":{"nominal":2250000,"real":2250000}},"id":"30b33ab0-3c5d-476f-aa0a-38355cfc1011","snapshot_id":"23232434-0210-4d2c-9326-0527ef86eb8a","latest":true,"content":{"id":"39c4cab1-943c-4fb7-b203-1616a212fb16","title":"Apple iPad Pro","thumbnails":[{"id":"a454d60e-971c-4ad8-9786-648bdbbb214b","created_at":"2025-02-11T07:20:37.443Z","name":"ipad_thumbnail","extension":"jpg","url":"https://store.storeimages.cdn-apple.com/1/as-images.apple.com/is/ipad-pro-model-select-gallery-2-202405?wid=5120&hei=2880&fmt=webp&qlt=70&.v=cXN0QTVTNDBtbGIzcy91THBPRThnMkpvMjZnN3E5aGRZVXJIWmhFMitJSU9WV3R2ZHdZMXRzTjZIcWdMTlg4eUJQYkhSV3V1dC9oa0s5K3lqMGtUaFMvR01EVDlzK0hIS1J2bTdpY0pVeTBWNTFabEhVdlFNSjJrWGh4dTRLbEk&traceId=1"},{"id":"3fdb84d2-d3ea-44c5-aa55-99820345cb79","created_at":"2025-02-11T07:20:37.443Z","name":"ipad_thumbnail","extension":"jpg","url":"https://store.storeimages.cdn-apple.com/1/as-images.apple.com/is/ipad-pro-model-select-gallery-1-202405?wid=5120&hei=2880&fmt=webp&qlt=70&.v=cXN0QTVTNDBtbGIzcy91THBPRThnNE5sSFgwakNWNmlhZ2d5NGpHdllWY09WV3R2ZHdZMXRzTjZIcWdMTlg4eUJQYkhSV3V1dC9oa0s5K3lqMGtUaFMvR01EVDlzK0hIS1J2bTdpY0pVeTF1Yy9kL1dQa3EzdWh4Nzk1ZnZTYWY&traceId=1"}]},"categories":[{"parent":null,"id":"4a850a9c-7a0d-4856-8d4b-758a731d556e","code":"electronics","parent_id":null,"name":"Electronics","created_at":"2025-02-11T07:20:37.092Z"},{"parent":{"parent":null,"id":"4a850a9c-7a0d-4856-8d4b-758a731d556e","code":"electronics","parent_id":null,"name":"Electronics","created_at":"2025-02-11T07:20:37.092Z"},"id":"540d9c1e-3027-47c5-9a6b-4dbd9b1461bb","code":"tablets","parent_id":"4a850a9c-7a0d-4856-8d4b-758a731d556e","name":"Tablets","created_at":"2025-02-11T07:20:37.147Z"},{"parent":{"parent":{"parent":null,"id":"4a850a9c-7a0d-4856-8d4b-758a731d556e","code":"electronics","parent_id":null,"name":"Electronics","created_at":"2025-02-11T07:20:37.092Z"},"id":"540d9c1e-3027-47c5-9a6b-4dbd9b1461bb","code":"tablets","parent_id":"4a850a9c-7a0d-4856-8d4b-758a731d556e","name":"Tablets","created_at":"2025-02-11T07:20:37.147Z"},"id":"30489cf9-e034-438b-bcc7-921d2292ff4f","code":"ipads","parent_id":"540d9c1e-3027-47c5-9a6b-4dbd9b1461bb","name":"iPads","created_at":"2025-02-11T07:20:37.152Z"}],"tags":["tablet","apple","ipad","electronics"],"units":[{"price_range":{"lowest":{"nominal":1350000,"real":1350000},"highest":{"nominal":2250000,"real":2250000}},"id":"f35d8e54-39a2-4396-8597-96d9ca14d3df","name":"Apple iPad Pro","primary":true,"required":true}],"created_at":"2025-02-11T07:20:37.444Z","updated_at":"2025-02-11T07:20:37.444Z","paused_at":null,"suspended_at":null,"opened_at":"2025-02-11T07:20:37.441Z","closed_at":null}],"type":"sale","direction":"include"}],"discount":{"unit":"amount","value":5000,"threshold":null,"limit":null,"multiplicative":false},"restriction":{"access":"public","exclusive":false,"volume":null,"volume_per_citizen":null,"expired_in":15,"expired_at":null},"name":"ywpy mhyyvj pyeaqsj vxk hdgda wuvlxfz wteuocy gmhcj wqoggci mvda bey eavjfuc hgsgedn ssun ikvpfk nzrj","opened_at":"2025-02-11T07:20:43.697Z","closed_at":null,"created_at":"2025-02-11T07:20:43.700Z"}],"tickets":[],"entries":[{"commodity_id":"7e67b219-bf42-41db-b401-819d947af444","pseudo":false,"coupon_id":"e885677e-eb49-41d2-8fd3-e1f64a7491be","amount":23.158466974721392},{"commodity_id":"b7920d51-5f78-401b-8d57-57911bdb701b","pseudo":false,"coupon_id":"e885677e-eb49-41d2-8fd3-e1f64a7491be","amount":11.21228594726828},{"commodity_id":"5a8cff52-1bf3-4e19-a4ad-0f5faf61f0dc","pseudo":false,"coupon_id":"e885677e-eb49-41d2-8fd3-e1f64a7491be","amount":15.629247078010328},{"commodity_id":"7e67b219-bf42-41db-b401-819d947af444","pseudo":false,"coupon_id":"afab8fab-26d9-4051-8d13-6ae1c298ce41","amount":23.158466974721392},{"commodity_id":"b7920d51-5f78-401b-8d57-57911bdb701b","pseudo":false,"coupon_id":"afab8fab-26d9-4051-8d13-6ae1c298ce41","amount":11.21228594726828},{"commodity_id":"5a8cff52-1bf3-4e19-a4ad-0f5faf61f0dc","pseudo":false,"coupon_id":"afab8fab-26d9-4051-8d13-6ae1c298ce41","amount":15.629247078010328},{"commodity_id":"7e67b219-bf42-41db-b401-819d947af444","pseudo":false,"coupon_id":"671eaaa6-1cc2-49fe-bb5f-4a355e19b817","amount":23.158466974721392},{"commodity_id":"b7920d51-5f78-401b-8d57-57911bdb701b","pseudo":false,"coupon_id":"671eaaa6-1cc2-49fe-bb5f-4a355e19b817","amount":11.21228594726828},{"commodity_id":"5a8cff52-1bf3-4e19-a4ad-0f5faf61f0dc","pseudo":false,"coupon_id":"671eaaa6-1cc2-49fe-bb5f-4a355e19b817","amount":15.629247078010328}],"amount":15000},{"coupons":[{"id":"cddefa88-93fc-4bef-a37d-d67b6a0822bd","designer":{"id":"5831cacc-7542-497f-a2d6-710574c3f498","created_at":"2025-02-11T07:20:37.356Z"},"inventory":{"volume":null,"volume_per_citizen":null},"criterias":[],"discount":{"unit":"amount","value":5000,"threshold":null,"limit":null,"multiplicative":false},"restriction":{"access":"public","exclusive":true,"volume":null,"volume_per_citizen":null,"expired_in":15,"expired_at":null},"name":"plvydlg ooxnofz ckmfzo bto seahac grdj fycfxg zus mlxmr kcivhvv vur wrswjwo hsmrfo fsf laae hbe","opened_at":"2025-02-11T07:20:43.683Z","closed_at":null,"created_at":"2025-02-11T07:20:43.687Z"}],"tickets":[],"entries":[{"commodity_id":"7e67b219-bf42-41db-b401-819d947af444","pseudo":false,"coupon_id":"cddefa88-93fc-4bef-a37d-d67b6a0822bd","amount":23.158466974721392},{"commodity_id":"b7920d51-5f78-401b-8d57-57911bdb701b","pseudo":false,"coupon_id":"cddefa88-93fc-4bef-a37d-d67b6a0822bd","amount":11.21228594726828},{"commodity_id":"5a8cff52-1bf3-4e19-a4ad-0f5faf61f0dc","pseudo":false,"coupon_id":"cddefa88-93fc-4bef-a37d-d67b6a0822bd","amount":15.629247078010328}],"amount":5000}]}}